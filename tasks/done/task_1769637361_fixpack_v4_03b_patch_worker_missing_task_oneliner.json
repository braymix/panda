{
  "id": "fixpack_v4_03b_patch_worker_missing_task_oneliner",
  "type": "bash",
  "priority": 4,
  "pipeline": "fixpack_v4",
  "prompt": "python3 -c \"from pathlib import Path; import re; p=Path.home()/'panda'/'worker.py'; s=p.read_text();\n# aggiungi guardia: se task_file non esiste, logga e return\nif 'if not task_file.exists():' not in s:\n    s=re.sub(r'def process_task\\(task_file, config\\):', 'def process_task(task_file, config):\\n    if not task_file.exists():\\n        log(f\\\"\u26a0\ufe0f Task file sparito: {task_file}\\\", \\\"WARN\\\")\\n        return False\\n', s, count=1)\n# quando fa rename, ignora se gi\u00e0 spostato\ns=s.replace('task_file.rename(done_dir / task_file.name)', 'try:\\n        task_file.rename(done_dir / task_file.name)\\n    except FileNotFoundError:\\n        pass')\np.write_text(s)\"",
  "_retry": 3
}